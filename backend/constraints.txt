# constraints.txt - Complete package constraints for numpy 1.24.3 compatibility

# CORE: numpy and scientific packages
numpy==1.24.3
scipy==1.10.1
pandas==2.0.3
matplotlib==3.7.2

# IMAGE PROCESSING (critical - Pillow 10.x breaks numpy 1.24.3!)
Pillow==9.4.0
imageio==2.31.6
imageio-ffmpeg==0.4.9

# MACHINE LEARNING
torch==1.13.1
torchvision==0.14.1

# COMPUTER VISION
opencv-python-headless==4.8.1.78

# MMPOSE ECOSYSTEM
mmcv-full==1.7.0
mmdet==2.25.0
mmpose==0.29.0

# VIDEO AND AUDIO PROCESSING (fixed versions)
moviepy==1.0.3
pydub==0.25.1
proglog==0.1.9
decorator==4.4.2

# ============================================================================
# WEB FRAMEWORK AND HTTP
# ============================================================================

# WEB FRAMEWORK
fastapi==0.68.0
uvicorn==0.15.0

# HTTP PACKAGES (install in correct order to prevent conflicts)
requests==2.28.1
idna==3.4
certifi==2022.12.7
httpx==0.24.1
httpcore==0.16.3
h11==0.14.0
hyperframe==6.0.1
rfc3986==1.5.0

# ============================================================================
# DATABASE AND AUTHENTICATION
# ============================================================================

# DATABASE
sqlalchemy==1.4.23
psycopg2-binary==2.9.1

# AUTHENTICATION AND JWT
python-jose==3.3.0
passlib==1.7.4
jwt==1.3.1

# FILE HANDLING
python-multipart==0.0.5
aiofiles==0.7.0

# VALIDATION AND EMAIL (use pydantic[email] for email support)
pydantic[email]==1.10.12
python-dotenv==0.19.0

# ============================================================================
# CLOUD AND UTILITIES
# ============================================================================

# CLOUD SERVICES
azure-storage-blob==12.14.1

# UTILITIES
tqdm==4.64.0

# ============================================================================
# PREVENT PROBLEMATIC UPGRADES
# ============================================================================

# Prevent packages that force numpy upgrades
setuptools<60.0.0
wheel<0.40.0

# Prevent other problematic upgrades
charset-normalizer<4.0.0
urllib3<2.0.0